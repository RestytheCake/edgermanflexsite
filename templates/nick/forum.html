{% load static %}
{% load hashtag %}
<!DOCTYPE html>
<html>
    <head>
        <title>
            EDgermanflex
        </title>
        <link rel="stylesheet" href={% static 'css/nick/holy-cascade.css' %}>
        <link rel="icon" href={% static 'img/nick/logo.png' %}>
        <meta name="viewport" content="width=device-width">
    </head>
    <!--Hardcore starts from here-->

    <script>
        //alooooooo to create new post
        let filterClicked = false;

        function filterSearch(){
            let filterList = document.getElementById('advancedList')
            let sortList = document.getElementById('sortList')

            if(filterClicked === false){
                filterList.style.display = 'block'
                sortList.style.display = 'block'
                filterClicked = true
            }else{
                filterList.style.display = 'none'
                sortList.style.display = 'none'
                filterClicked = false
            }

        }

        //u have them
        let createNewButtonPressed = false;

        function newPostUsers(){
            let newPost = document.getElementById('createPost')

            if(createNewButtonPressed == false){
                newPost.style.display = 'block'
                createNewButtonPressed = true
            }else{
                newPost.style.display = 'none'
                createNewButtonPressed = false
            }
        }

        
        let profileClicked = false;

        function ddMenu(){
            let ddcont = document.getElementById('dropdown-content');
            
            if(profileClicked == false){
                ddcont.style.display = 'block'
                profileClicked = true
            }else{
                ddcont.style.display = 'none'
                profileClicked = false
            }
        }

    </script>
    <body>
       <div id="containor">
            <div id="topBanner">
                <div>
                    <label>Welcome to the official EDGermanflex site!</label>
                    <img src={% static 'img/nick/logo.png' %} style="width: 120px; height: 120px; float: left; padding-left: 10px;">
                    {% if request.user.is_authenticated %}
                    <div id="dropdown"  style="float: right; margin-right: 70px; margin-top: 20px">
                        <label onclick="ddMenu()">{{ request.user.username }}</label>
                            <div  id="dropdown-content">
                                <a href='/team/nick/forum/profile?user={{ request.user.username }}' style="float: left;">Profile</a>
                                <a href="/team/nick/logout" style="float: left;">Logout</a>
                            </div>
                    </div>
                    {% else %}
                        <div id="dropdown"  style="float: right; margin-right: 70px; margin-top: 20px">
                        <label onclick="ddMenu()">New ?</label>
                            <div  id="dropdown-content">
                                <a href="/team/nick/register" style="float: left;">Register</a>
                                <a href="/team/nick/login" style="float: left;">Login</a>
                            </div>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div id="scroll">
                <button class="buttonTop" onClick="window.location='/team/nick/';">Home</button>
                <button class="buttonTop" onClick="window.location='/team/nick/videos';">Videos</button>
                <button class="buttonTop" style="background-color:  rgb(235, 97, 33);" onClick="window.location='/team/nick/forum';">Forum</button>
                <button class="buttonTop" onClick="window.location='/team/nick/posts';">Post</button>
                <button class="buttonTop" onClick="window.location='/team/nick/contact';">Contact</button>
            </div>
           
           
           
           <!--here new stuff going on-->
            <form action="/team/nick/forum/search" method="get">
            <div id="search">
                <input type="search" name="searching" id="searchBar" placeholder="Quick Search">
                <button id="searchButton"><img src={% static 'img/nick/search.png' %} style="width: 25px; height: 25px;"> </button>
                <div id='filter' onclick='filterSearch()'><img src={% static 'img/nick/3dots.png' %} style="width: 40px; height: 40px;"></div>
                <div id="filterNewOld">
                    <select name="Sort by" id='sortList'>
                        <option value="new">New</option>
                        <option value="old">Old</option>
                    </select>
                </div>

                <div id="advancedList">
                    <button id='advButton' onclick="location.href='advancedSRC.html'">Advanced</button>
                </div>
            </div>
            </div>
            </form>
            

            <!--end of new things-->

            <button onclick="location.href='/team/nick/forum/create';" id='buttonNewPost'>Create new post</button>

            {% for data in message %}
                <div class="post">
                <label style="font-size: 24px; padding: 10px; color: rgb(0,0,0);"><b>{{ data.title }}</b></label>
                <label id='date' style="color: rgb(179, 163, 149);">{{ data.created_at.day }}.{{ data.created_at.month }}.{{ data.created_at.year }}</label>
                <label style="font-size: 10px;color: rgb(179, 163, 149); padding-left: 5px;">UTC:</label>
                <label id='time' style="color: rgb(179, 163, 149);">{{ data.created_at.hour}}:{{ data.created_at.minute }}</label><br><br>
                <a href='/team/nick/forum/profile?user={{ data.user }}' style="float: none; padding: 10px;">{{ data.user }}</a>
                <span>{{ data.message }}</span>
                <span id="tags">Keywords :  {% check data.tags %}</span>
                <div style="padding-right: 20px; padding: 5px;"><a href="/team/nick/forum/message/?user={{ data.user }}&title={{ data.title }}">Comment</a></div>
                </div>
            {% endfor %}

        </div>
    </body>
</html>